<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Paveways | Routes</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
<style>
  body {
    margin: 0;
    font-family: 'Poppins', sans-serif;
    background-image: url('bg.png'); /* Replace with your background image */
    background-size: cover;
    background-position: center;
    color: #003049;
  }
  .logo {
    position: absolute;
    top: 20px;
    left: 30px;
    display: flex;
    align-items: center;
    gap: 10px;
  }
  .logo img {
    width: 40px;
    height: 40px;
  }
  .logo span {
    font-size: 20px;
    font-weight: 600;
    color: #04364A;
  }
  .profile-icon {
    position: absolute;
    top: 20px;
    right: 30px;
  }
  .profile-icon img {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    cursor: pointer;
  }
  header {
    background: rgba(0, 123, 255, 0.9);
    color: white;
    padding: 15px;
    text-align: center;
    font-size: 1.5rem;
    margin-top: 80px; /* leave space for logo */
    border-radius: 10px;
    width: 90%;
    max-width: 1200px;
    margin-left: auto;
    margin-right: auto;
  }
  .container {
    padding: 15px;
    max-width: 1200px;
    margin: 20px auto;
    background: rgba(255,255,255,0.95);
    border-radius: 10px;
  }
  #map {
    height: 400px;
    width: 100%;
    margin-bottom: 15px;
    border-radius:10px;
  }
  input, button {
    padding:8px;
    margin:5px 0;
    width: 100%;
    max-width: 300px;
    border-radius: 8px;
    border: 1px solid #ccc;
  }
  button {
    background-color: #4fd786;
    color: #003049;
    font-weight: 600;
    cursor: pointer;
    transition: background 0.3s;
    border: none;
  }
  button:hover {
    background-color: #3fc776;
  }
  .route-info {
    background:white;
    padding:15px;
    border-radius:10px;
    box-shadow:0 3px 6px rgba(0,0,0,0.1);
    margin-top:10px;
  }
  .section-title {
    font-weight:bold;
    margin-top:10px;
  }
</style>
</head>
<body>

<div class="logo">
  <img src="logo.jpeg" alt="Paveways Logo">
  <span>Paveways</span>
</div>

<div class="profile-icon">
  <a href="profile.html"><img src="https://images.rawpixel.com/image_png_800/cHJpdmF0ZS9sci9pbWFnZXMvd2Vic2l0ZS8yMDIzLTAxL3JtNjA5LXNvbGlkaWNvbi13LTAwMi1wLnBuZw.png" alt="Profile"></a>
</div>

<header>Thiruvananthapuram Route Planner</header>

<div class="container">
    <label for="start">Start Location:</label>
    <input type="text" id="start" placeholder="e.g. LBS Poojappura">
    <label for="end">End Location:</label>
    <input type="text" id="end" placeholder="e.g. CRPF Pallipuram">
    <button onclick="showRoute()">Show Route</button>

    <div id="map"></div>

    <div class="route-info" id="routeDetails">
        <p>Enter start and end location, then click "Show Route".</p>
    </div>
</div>

<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
<script>
const map = L.map('map').setView([8.5241, 76.9366], 12); // Thiruvananthapuram

L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
    attribution: '© OpenStreetMap contributors'
}).addTo(map);

const routes = [
    {
        start: "Thiruvananthapuram Central",
        end: "CRPF Pallipuram",
        fare: "₹74",
        duration: "1 hour 23 minutes",
        stops: ["Handicap Corporation","Jagathy","DPI Junction","Vazhuthacaud","Bakery Junction","Panavila","Model School","Aristo","Thiruvananthapuram Central","Bakery Junction","Pmg","Pattom","Pattom LIC","Kesavadasapuram","Ulloor","Sreekariyam","Chavadimukku","Pangappara Phc","Karyavattom Junction","Karyavattom Campus","Kazhakkootam","Csi Mission Hospital Kazhakkootam","Kazhakkottam Block Office Junction","Kaniyapuram Bus Stand","CRPF Pallipuram"],
        coordinates: [[8.4883,76.9480],[8.6000,77.0550]],
        alternative: {mode:"Auto", fare:"₹30", duration:"7 minutes"}
    },
    {
        start: "LBS Poojappura",
        end: "Medical College Hostel",
        fare: "₹25",
        duration: "55 minutes",
        stops: ["Walk to Pareeksha Bhavan (8 min)","Bus: Pareeksha Bhavan → Mavadinada","Kunjalumoodu","Karamana Co-Operative Bank","Kailas Junction","Killipalam","Thiruvananthapuram Central","Ayurveda College","Statue","Palayam","Pmg","Plamoodu","Pattom","Vydhuthi Bhavan, Pattom","Murinjapalam","Medical College Bus Stand","Ulloor","Mavadinada","Walk to Medical College Hostel (5 min)"],
        coordinates: [[8.505,76.955],[8.545,76.995]],
        alternative: null
    },
    {
        start: "LBS Poojappura",
        end: "Shangumugham",
        fare: "₹55",
        duration: "1 hour 15 minutes",
        stops: ["Auto: LBS → Karamana (₹32)","Bus: Karamana → Cheru Vettukadu","PRS Hospital","Killipalam","Thiruvananthapuram Central","Ayurveda College","Statue","Palayam","General Hospital","Govt Eye Hospital","Pattoor Junction","Pettah Pallimukku","Pettah KEPCO","Chakkai Junction","KSEB Chakkai","ITI Chackai","Brahmos Aero Space","Mathilakkam","All Saints College","Rajeev Nagar","GV Raja","Shangumgham","Kannamthura","Kurushu Palli"],
        coordinates: [[8.49,76.96],[8.47,76.88]],
        alternative: null
    },
    {
        start: "LBS Poojappura",
        end: "Varkala Beach",
        fare: "₹131 (Bus) or ₹76 (Bus+Auto)",
        duration: "2 hrs 10 mins",
        stops: ["Auto: LBS → Bakery Junction (₹46)","Bus: Bakery Junction → Ayamkonam (₹55)", "…stops…", "Option A: Bus → Varkala Temple (₹30)", "Option B: Auto → Varkala Beach (₹30)"],
        coordinates: [[8.52,76.94],[8.73,76.71]],
        alternative: {mode:"Auto Option", fare:"₹30", duration:"15 minutes"}
    },
    {
        start: "LBS Poojappura",
        end: "Kovalam Junction",
        fare: "₹25",
        duration: "42 minutes (Bus)",
        stops: ["Ashabhavan Poojappura","Jagathy","DPI Junction","Vazhuthacaud","Bakery Junction","Panavila","Model School","Aristo","Thiruvananthapuram Central","Eastfort","Attakulangara","KSRTC Staff Training","Manacaud","Kamaleswaram","Kallattumukku","Paravankunnu","Ambalathara","Thiruvallam","Vellar","Nedumom","Kovalam Junction"],
        coordinates: [[8.51,76.96],[8.39,76.98]],
        alternative: {mode:"Auto", fare:"₹30", duration:"8 minutes"}
    },
    {
        start: "Bakery Junction",
        end: "Varkala Temple",
        fare: "₹161",
        duration: "2 hours 39 minutes",
        stops: ["Part 1: Bus Bakery Junction → Ayamkonam (₹55, 1h11m)", "…stops…", "Part 2: Bus Ayamkonam → Varkala Temple (₹30, 57m)", "…stops…"],
        coordinates: [[8.52,76.94],[8.73,76.71]],
        alternative: {mode:"Auto", fare:"₹46+₹30", duration:"1 hour 45 minutes"}
    },
    {
        start: "Kesavadasapuram",
        end: "Thirumala",
        fare: "₹44",
        duration: "55 minutes",
        stops: ["Walk → Kesavadasapuram (11m)", "Bus: Kesavadasapuram → Thirumala (₹44)", "Stops: Pattom LIC","Pattom","Plamoodu","Pmg","Bakery Junction","Model School","Thiruvananthapuram Central","DPI Junction","Poojappura","Rotary","Vijayamohini Mill","Thirumala"],
        coordinates: [[8.52,76.94],[8.49,76.96]],
        alternative: null
    }
];

let routeLayer;

let startMarker, endMarker;

function showRoute() {
    const startInput = document.getElementById('start').value.trim();
    const endInput = document.getElementById('end').value.trim();

    const route = routes.find(r => 
        r.start.toLowerCase() === startInput.toLowerCase() && 
        r.end.toLowerCase() === endInput.toLowerCase()
    );

    if (!route) {
        document.getElementById('routeDetails').innerHTML = `<p>No route found for this combination.</p>`;
        if (startMarker) map.removeLayer(startMarker);
        if (endMarker) map.removeLayer(endMarker);
        return;
    }

    let stopsHtml = route.stops.map(s => `<li>${s}</li>`).join("");
    document.getElementById('routeDetails').innerHTML = `
        <p><strong>Fare:</strong> ${route.fare}</p>
        <p><strong>Duration:</strong> ${route.duration}</p>
        <p class="section-title">Stops:</p>
        <ul>${stopsHtml}</ul>
        ${route.alternative ? `<p><strong>Alternative:</strong> ${route.alternative.mode}, Fare: ${route.alternative.fare}, Duration: ${route.alternative.duration}</p>` : ""}
    `;

    // Remove old markers if they exist
    if (startMarker) map.removeLayer(startMarker);
    if (endMarker) map.removeLayer(endMarker);

    // Add Start marker (green)
    startMarker = L.marker(route.coordinates[0], {
        title: "Start Location",
        icon: L.icon({
            iconUrl: "https://maps.google.com/mapfiles/ms/icons/green-dot.png",
            iconSize: [32, 32],
            iconAnchor: [16, 32]
        })
    }).addTo(map).bindPopup(`<b>Start:</b> ${route.start}`);

    // Add End marker (red)
    endMarker = L.marker(route.coordinates[route.coordinates.length - 1], {
        title: "End Location",
        icon: L.icon({
            iconUrl: "https://maps.google.com/mapfiles/ms/icons/red-dot.png",
            iconSize: [32, 32],
            iconAnchor: [16, 32]
        })
    }).addTo(map).bindPopup(`<b>End:</b> ${route.end}`);

    // Fit map to show both
    map.fitBounds([route.coordinates[0], route.coordinates[route.coordinates.length - 1]]);
}

</script>

</body>
</html>
