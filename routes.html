<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Paveways | Routes</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
<style>
  body {
    margin: 0;
    font-family: 'Poppins', sans-serif;
    background-image: url('bg.png'); /* Replace with your background image */
    background-size: cover;
    background-position: center;
    color: #003049;
  }
  .logo {
    position: absolute;
    top: 20px;
    left: 30px;
    display: flex;
    align-items: center;
    gap: 10px;
  }
  .logo img {
    width: 40px;
    height: 40px;
  }
  .logo span {
    font-size: 20px;
    font-weight: 600;
    color: #04364A;
  }
  .profile-icon {
    position: absolute;
    top: 20px;
    right: 30px;
  }
  .profile-icon img {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    cursor: pointer;
  }
  header {
    background: rgba(0, 123, 255, 0.9);
    color: white;
    padding: 15px;
    text-align: center;
    font-size: 1.5rem;
    margin-top: 80px; /* leave space for logo */
    border-radius: 10px;
    width: 90%;
    max-width: 1200px;
    margin-left: auto;
    margin-right: auto;
  }
  .container {
    padding: 15px;
    max-width: 1200px;
    margin: 20px auto;
    background: rgba(255,255,255,0.95);
    border-radius: 10px;
  }
  #map {
    height: 400px;
    width: 100%;
    margin-bottom: 15px;
    border-radius:10px;
  }
  input, button {
    padding:8px;
    margin:5px 0;
    width: 100%;
    max-width: 300px;
    border-radius: 8px;
    border: 1px solid #ccc;
  }
  button {
    background-color: #4fd786;
    color: #003049;
    font-weight: 600;
    cursor: pointer;
    transition: background 0.3s;
    border: none;
  }
  button:hover {
    background-color: #3fc776;
  }
  .route-info {
    background:white;
    padding:15px;
    border-radius:10px;
    box-shadow:0 3px 6px rgba(0,0,0,0.1);
    margin-top:10px;
  }
  .section-title {
    font-weight:bold;
    margin-top:10px;
  }
</style>
</head>
<body>

<div class="logo">
  <img src="logo.jpeg" alt="Paveways Logo">
  <span>Paveways</span>
</div>

<div class="profile-icon">
  <a href="profile.html"><img src="images/PaveWays/prof.jpeg" alt="Profile"></a>
</div>

<header>Thiruvananthapuram Route Planner</header>

<div class="container">
    <label for="start">Start Location:</label>
    <input type="text" id="start" placeholder="e.g. LBS Poojappura">
    <label for="end">End Location:</label>
    <input type="text" id="end" placeholder="e.g. CRPF Pallipuram">
    <button onclick="showRoute()">Show Route</button>

    <div id="map"></div>

    <div class="route-info" id="routeDetails">
        <p>Enter start and end location, then click "Show Route".</p>
    </div>
</div>

<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
<script>
const map = L.map('map').setView([8.5241, 76.9366], 12); // Thiruvananthapuram

L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
    attribution: '© OpenStreetMap contributors'
}).addTo(map);

const routes = [
    {
        start: "Thiruvananthapuram Central",
        end: "CRPF Pallipuram",
        fare: "₹74",
        duration: "1 hour 23 minutes",
        stops: ["Handicap Corporation","Jagathy","DPI Junction","Vazhuthacaud","Bakery Junction","Panavila","Model School","Aristo","Thiruvananthapuram Central","Bakery Junction","Pmg","Pattom","Pattom LIC","Kesavadasapuram","Ulloor","Sreekariyam","Chavadimukku","Pangappara Phc","Karyavattom Junction","Karyavattom Campus","Kazhakkootam","Csi Mission Hospital Kazhakkootam","Kazhakkottam Block Office Junction","Kaniyapuram Bus Stand","CRPF Pallipuram"],
        coordinates: [
            [8.4883,76.9480],[8.4890,76.9495],[8.4920,76.9505],[8.5000,76.9550],
            [8.5050,76.9600],[8.5100,76.9650],[8.5150,76.9700],[8.5200,76.9750],
            [8.5241,76.9366],[8.5260,76.9800],[8.5300,76.9850],[8.5350,76.9900],
            [8.5400,76.9950],[8.5450,77.0000],[8.5500,77.0050],[8.5550,77.0100],
            [8.5600,77.0150],[8.5650,77.0200],[8.5700,77.0250],[8.5750,77.0300],
            [8.5800,77.0350],[8.5850,77.0400],[8.5900,77.0450],[8.5950,77.0500],
            [8.6000,77.0550]
        ],
        alternative: {mode:"Auto", fare:"₹30", duration:"7 minutes"}
    }
];

let routeLayer;

function showRoute() {
    const startInput = document.getElementById('start').value.trim();
    const endInput = document.getElementById('end').value.trim();

    const route = routes.find(r => r.start.toLowerCase() === startInput.toLowerCase() && r.end.toLowerCase() === endInput.toLowerCase());

    if (!route) {
        document.getElementById('routeDetails').innerHTML = `<p>No route found for this combination.</p>`;
        if (routeLayer) map.removeLayer(routeLayer);
        return;
    }

    let stopsHtml = route.stops.map(s => `<li>${s}</li>`).join("");
    document.getElementById('routeDetails').innerHTML = `
        <p><strong>Fare:</strong> ${route.fare}</p>
        <p><strong>Duration:</strong> ${route.duration}</p>
        <p class="section-title">Stops:</p>
        <ul>${stopsHtml}</ul>
        <p><strong>Alternative:</strong> ${route.alternative.mode}, Fare: ${route.alternative.fare}, Duration: ${route.alternative.duration}</p>
    `;

    if (routeLayer) map.removeLayer(routeLayer);
    routeLayer = L.polyline(route.coordinates, {color:'blue', weight:5}).addTo(map);
    map.fitBounds(routeLayer.getBounds());
}
</script>
</body>
</html>
